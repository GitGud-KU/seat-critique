<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>_navbar.html.haml</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            _navbar.html.haml
        </h1>
        <ul class="files">
            <li>app/views/shared/_navbar.html.haml</li>
            <li>Last modified: 2017-11-30 22:49:51 -0600</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>/</p>

<pre><code>The following navbar is modelled after the Bootstrap navbar examples
available at https://v4-alpha.getbootstrap.com/components/navbar/
(accessed on 2017-09-16)</code></pre>

<p>%nav.navbar.navbar-default.navbar-fixed-top{:role =&gt; “navigation”}</p>

<pre><code>/ We use the fluid option here to avoid overriding the fixed width of a normal container within the narrow content columns.
.container-fluid
  .navbar-header
    %button.navbar-toggle.collapsed{&quot;data-target&quot; =&gt; &quot;#collapsible&quot;, &quot;data-toggle&quot; =&gt; &quot;collapse&quot;, :type =&gt; &quot;button&quot;}
      %span.sr-only Toggle navigation
      %span.icon-bar
      %span.icon-bar
      %span.icon-bar
    = link_to &quot;Seat Critique&quot;, root_path, class: &quot;navbar-brand&quot;
  #collapsible.collapse.navbar-collapse
    %ul.nav.navbar-nav.navbar-right
      - if user_signed_in?
        %li.dropdown
          %a.dropdown-toggle{&quot;aria-expanded&quot; =&gt; &quot;false&quot;, &quot;data-toggle&quot; =&gt; &quot;dropdown&quot;, :href =&gt; &quot;events&quot;, :role =&gt; &quot;button&quot;}
            Account
            %span.caret
          %ul.dropdown-menu{:role =&gt; &quot;menu&quot;}
            %li
              %p
                Logged in as: #{current_user.email}
            %li.divider
            %li= link_to(&#39;Edit registration&#39;, edit_user_registration_path)
            %li.divider
            %li= link_to(&#39;Logout&#39;, destroy_user_session_path, method: :delete)
      - else
        %li
          %p{style: &quot;margin-top:5px;&quot;}
            = link_to(&#39;Login&#39;, new_user_session_path, class: &quot;btn btn-default&quot;, style: &quot;margin-left:15px;margin-right:15px;&quot;)
    - if current_page?(buildings_path) || current_page?(root_path)
      %form.navbar-form.navbar-right{:action =&gt; &#39;javascript:shiftFocus()&#39;}
        .form-group
          %input.form-control{:placeholder =&gt; &quot;Search&quot;, :type =&gt; &quot;text&quot;, :id =&gt; &#39;query&#39;}/
        %button.btn.btn-default{:type =&gt; &quot;submit&quot;} Submit
      %form.navbar-form.navbar-right{:action =&gt; &#39;javascript:getLocation()&#39;}
        .form-group
          %button.btn.btn-default{:type =&gt; &quot;submit&quot;} BATHROOM NOW</code></pre>

<p>:javascript</p>

<pre><code>function shiftFocus() {
  query = document.getElementById(&quot;query&quot;).value.toLowerCase();
  my_marker = markers.find(marker =&gt; marker.serviceObject.title.includes(query));
  if (typeof my_marker !== &#39;undefined&#39;) {
    my_marker.panTo();
    if (handler.getMap().getZoom() &lt; 18) { handler.getMap().setZoom(18); }
    google.maps.event.trigger(my_marker.getServiceObject(), &#39;click&#39;)
  } else {
    alert(&#39;No results found.&#39;);
  }
}</code></pre>

<p>:javascript</p>

<pre><code>function getLocation() {
  if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition)
  } else {
      alert(&quot;Geolocation is not supported by this browser.&quot;)
  }
}
function showPosition(position) {
  currentlocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude)
  //change to for each
  for(i=0; i &lt; markers.length; i++) {
    markerlocation = new google.maps.LatLng(markers[i].serviceObject.getPosition().lat(), markers[i].serviceObject.getPosition().lng())
    var distance = google.maps.geometry.spherical.computeDistanceBetween(currentlocation, markerlocation)
    var closest;
  if( !closest || closest.distance &gt; distance ) {
    closest = {marker: markers[i], distance: distance}
  }
  }
  if (closest) {
    closest.marker.panTo()
    if (handler.getMap().getZoom() &lt; 18) { handler.getMap().setZoom(18); }
    google.maps.event.trigger(closest.marker.getServiceObject(), &#39;click&#39;)
  }
}</code></pre>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
